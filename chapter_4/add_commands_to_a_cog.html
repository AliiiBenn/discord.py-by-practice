<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>add commands to a cog - Discord.py Exercices</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../chapter_1/events.html"><strong aria-hidden="true">2.</strong> Chapter 1 - Events</a></li><li class="chapter-item expanded "><a href="../chapter_2/commands.html"><strong aria-hidden="true">3.</strong> Chapter 2 - Commands</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../chapter_2/without_arguments.html"><strong aria-hidden="true">3.1.</strong> without arguments</a></li><li class="chapter-item expanded "><a href="../chapter_2/unique_argument.html"><strong aria-hidden="true">3.2.</strong> unique argument</a></li><li class="chapter-item expanded "><a href="../chapter_2/multiple_arguments.html"><strong aria-hidden="true">3.3.</strong> multiple arguments</a></li><li class="chapter-item expanded "><a href="../chapter_2/string_arguments.html"><strong aria-hidden="true">3.4.</strong> string arguments</a></li><li class="chapter-item expanded "><a href="../chapter_2/commands_errors.html"><strong aria-hidden="true">3.5.</strong> commands errors</a></li></ol></li><li class="chapter-item expanded "><a href="../chapter_3/basic_converters.html"><strong aria-hidden="true">4.</strong> Chapter 3 - Basic Converters</a></li><li class="chapter-item expanded "><a href="../chapter_4/cogs.html"><strong aria-hidden="true">5.</strong> Chapter 4 - Cogs</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../chapter_4/add_commands_to_a_cog.html" class="active"><strong aria-hidden="true">5.1.</strong> add commands to a cog</a></li><li class="chapter-item expanded "><a href="../chapter_4/add_events_to_a_cog.html"><strong aria-hidden="true">5.2.</strong> add events to a cog</a></li></ol></li><li class="chapter-item expanded "><a href="../chapter_5/embeds.html"><strong aria-hidden="true">6.</strong> Chapter 5 - Embeds</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../chapter_5/create_an_embed.html"><strong aria-hidden="true">6.1.</strong> create an embed</a></li><li class="chapter-item expanded "><a href="../chapter_5/customize_an_embed.html"><strong aria-hidden="true">6.2.</strong> customize an embed</a></li></ol></li><li class="chapter-item expanded "><a href="../chapter_6/slash_commands.html"><strong aria-hidden="true">7.</strong> Chapter 6 - Slash Commands</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../chapter_6/create_a_slash_command.html"><strong aria-hidden="true">7.1.</strong> create a slash command</a></li></ol></li><li class="chapter-item expanded "><a href="../chapter_7/hybrid_commands.html"><strong aria-hidden="true">8.</strong> Chapter 7 - Hybrid Commands</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../chapter_7/create_a_hybrid_command.html"><strong aria-hidden="true">8.1.</strong> create a hybrid command</a></li></ol></li><li class="chapter-item expanded "><a href="../chapter_8/converters.html"><strong aria-hidden="true">9.</strong> Chapter 8 - Converters</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../chapter_8/functions_converters.html"><strong aria-hidden="true">9.1.</strong> functions converters</a></li><li class="chapter-item expanded "><a href="../chapter_8/advanced_converters.html"><strong aria-hidden="true">9.2.</strong> advanced converters</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Discord.py Exercices</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="add-commands-to-a-cog"><a class="header" href="#add-commands-to-a-cog">add commands to a cog</a></h1>
<p>In the previous chapter, we learned how to create a cog. Now, let's see how to add commands to this cog. We will create a cog that contains a <code>ping</code> command which takes no arguments and responds with <code>pong</code>.</p>
<pre><code class="language-python">import discord
from discord.ext import commands

class PingCog(commands.Cog):
    def __init__(self, bot: commands.Bot):
        self.bot = bot

    @commands.command()
    async def ping(self, ctx: commands.Context) -&gt; discord.Message:
        return await ctx.send(&quot;pong&quot;)
</code></pre>
<p>As we can see, to create a new command, we use the <code>command</code> method from the <code>commands</code> library. This method optionally takes the name of the command as a parameter. The function defined right below this method is the function that will be called when the command is executed. This function takes the command's context as a parameter and returns a Discord message.</p>
<hr />
<h1 id="exercises"><a class="header" href="#exercises">Exercises</a></h1>
<h3 id="exercise-1"><a class="header" href="#exercise-1">Exercise 1</a></h3>
<p>Create a cog <code>AddCog</code> that contains a command <code>add</code> which takes two arguments and returns the sum of these two arguments.</p>
<details>
<summary>Solution</summary>
<pre><code class="language-python">import discord
from discord.ext import commands

class AddCog(commands.Cog):
    def __init__(self, bot: commands.Bot):
        self.bot = bot

    @commands.command()
    async def add(self, ctx: commands.Context, a: int, b: int) -&gt; discord.Message:
        return await ctx.send(str(a + b))
</code></pre>
<p>We can see that to create a new command, we use the <code>command</code> method from the <code>commands</code> library. The function defined below this method takes four parameters. The first parameter is the object itself, the second parameter is the command's context, and the following parameters are the command's arguments. We can see that the arguments are defined with a type. The argument types are automatically checked by the <code>commands</code> library, and if an argument is not of the correct type, the command will not be executed and an error message will be sent to the console.</p>
</details>
<h3 id="exercise-2"><a class="header" href="#exercise-2">Exercise 2</a></h3>
<p>Create a cog <code>MentionCog</code> that contains a command <code>mention_member_in_channel</code> which takes a member and a channel as parameters and sends a message in that channel mentioning the member. This command takes two parameters and should have the following structure:</p>
<pre><code class="language-python">async def mention_member_in_channel(self,
                                    ctx: commands.Context,
                                    member: discord.Member,
                                    channel: discord.TextChannel) -&gt; discord.Message:
</code></pre>
<details>
<summary>Solution</summary>
<pre><code class="language-python">import discord
from discord.ext import commands

class MentionCog(commands.Cog):
    def __init__(self, bot: commands.Bot):
        self.bot = bot

    @commands.command()
    async def mention_member_in_channel(self,
                                        ctx: commands.Context,
                                        member: discord.Member,
                                        channel: discord.TextChannel) -&gt; discord.Message:
        return await channel.send(member.mention)
</code></pre>
</details>
<h3 id="exercise-3"><a class="header" href="#exercise-3">Exercise 3</a></h3>
<p>Create a cog <code>MemberMuteCog</code> that contains two commands: <code>mute_member</code> which takes a member as a parameter and mutes that member, and <code>unmute_member</code> which takes a member as a parameter and unmutes that member.</p>
<p>Both commands should have the following structure:</p>
<pre><code class="language-python">async def mute_member(self,
                      ctx: commands.Context,
                      member: discord.Member) -&gt; discord.Message:
</code></pre>
<pre><code class="language-python">async def unmute_member(self,
                        ctx: commands.Context,
                        member: discord.Member) -&gt; discord.Message:
</code></pre>
<details>
<summary>Solution</summary>
<pre><code class="language-python">import discord
from discord.ext import commands

class MemberMuteCog(commands.Cog):
    def __init__(self, bot: commands.Bot):
        self.bot = bot

    @commands.command()
    async def mute_member(self,
                          ctx: commands.Context,
                          member: discord.Member) -&gt; discord.Message:
        await member.edit(mute=True)
        return await ctx.send(f&quot;{member.mention} has been muted&quot;)

    @commands.command()
    async def unmute_member(self,
                            ctx: commands.Context,
                            member: discord.Member) -&gt; discord.Message:
        await member.edit(mute=False)
        return await ctx.send(f&quot;{member.mention} has been unmuted&quot;)
</code></pre>
</details>
<h3 id="exercise-4"><a class="header" href="#exercise-4">Exercise 4</a></h3>
<p>Create a cog <code>MemberRoleHandlerCog</code> that contains two commands: <code>add_role_to_member</code> which takes a member and a role as parameters and adds the role to the member, and <code>remove_role_from_member</code> which takes a member and a role as parameters and removes the role from the member.</p>
<p>Both commands should have the following structure:</p>
<pre><code class="language-python">async def add_role_to_member(self,
                             ctx: commands.Context,
                             member: discord.Member,
                             role: discord.Role) -&gt; discord.Message:
</code></pre>
<pre><code class="language-python">async def remove_role_from_member(self,
                                  ctx: commands.Context,
                                  member: discord.Member,
                                  role: discord.Role) -&gt; discord.Message:
</code></pre>
<details>
<summary>Solution</summary>
<pre><code class="language-python">import discord
from discord.ext import commands

class MemberRoleHandlerCog(commands.Cog):
    def __init__(self, bot: commands.Bot):
        self.bot = bot

    @commands.command()
    async def add_role_to_member(self,
                                 ctx: commands.Context,
                                 member: discord.Member,
                                 role: discord.Role) -&gt; discord.Message:
        await member.add_roles(role)
        return await ctx.send(f&quot;{role.mention} has been added to {member.mention}&quot;)

    @commands.command()
    async def remove_role_from_member(self,
                                      ctx: commands.Context,
                                      member: discord.Member,
                                      role: discord.Role) -&gt; discord.Message:
        await member.remove_roles(role)
        return await ctx.send(f&quot;{role.mention} has been removed from {member.mention}&quot;)
</code></pre>
</details>
<br>
<hr />

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../chapter_4/cogs.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../chapter_4/add_events_to_a_cog.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../chapter_4/cogs.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../chapter_4/add_events_to_a_cog.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
