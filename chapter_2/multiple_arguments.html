<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>multiple arguments - Discord.py Exercices</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../chapter_1/events.html"><strong aria-hidden="true">2.</strong> Chapter 1 - Events</a></li><li class="chapter-item expanded "><a href="../chapter_2/commands.html"><strong aria-hidden="true">3.</strong> Chapter 2 - Commands</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../chapter_2/without_arguments.html"><strong aria-hidden="true">3.1.</strong> without arguments</a></li><li class="chapter-item expanded "><a href="../chapter_2/unique_argument.html"><strong aria-hidden="true">3.2.</strong> unique argument</a></li><li class="chapter-item expanded "><a href="../chapter_2/multiple_arguments.html" class="active"><strong aria-hidden="true">3.3.</strong> multiple arguments</a></li><li class="chapter-item expanded "><a href="../chapter_2/string_arguments.html"><strong aria-hidden="true">3.4.</strong> string arguments</a></li><li class="chapter-item expanded "><a href="../chapter_2/commands_errors.html"><strong aria-hidden="true">3.5.</strong> commands errors</a></li></ol></li><li class="chapter-item expanded "><a href="../chapter_3/basic_converters.html"><strong aria-hidden="true">4.</strong> Chapter 3 - Bacic Converters</a></li><li class="chapter-item expanded "><a href="../chapter_4/cogs.html"><strong aria-hidden="true">5.</strong> Chapter 4 - Cogs</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../chapter_4/add_commands_to_a_cog.html"><strong aria-hidden="true">5.1.</strong> add commands to a cog</a></li><li class="chapter-item expanded "><a href="../chapter_4/add_events_to_a_cog.html"><strong aria-hidden="true">5.2.</strong> add events to a cog</a></li></ol></li><li class="chapter-item expanded "><a href="../chapter_5/embeds.html"><strong aria-hidden="true">6.</strong> Chapter 5 - Embeds</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../chapter_5/create_an_embed.html"><strong aria-hidden="true">6.1.</strong> create an embed</a></li><li class="chapter-item expanded "><a href="../chapter_5/customize_an_embed.html"><strong aria-hidden="true">6.2.</strong> customize an embed</a></li></ol></li><li class="chapter-item expanded "><a href="../chapter_6/slash_commands.html"><strong aria-hidden="true">7.</strong> Chapter 6 - Slash Commands</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../chapter_6/create_a_slash_command.html"><strong aria-hidden="true">7.1.</strong> create a slash command</a></li></ol></li><li class="chapter-item expanded "><a href="../chapter_7/hybrid_commands.html"><strong aria-hidden="true">8.</strong> Chapter 7 - Hybrid Commands</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../chapter_7/create_a_hybrid_command.html"><strong aria-hidden="true">8.1.</strong> create a hybrid command</a></li></ol></li><li class="chapter-item expanded "><a href="../chapter_8/converters.html"><strong aria-hidden="true">9.</strong> Chapter 8 - Converters</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../chapter_8/functions_converters.html"><strong aria-hidden="true">9.1.</strong> functions converters</a></li><li class="chapter-item expanded "><a href="../chapter_8/advanced_converters.html"><strong aria-hidden="true">9.2.</strong> advanced converters</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Discord.py Exercices</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="multiple-arguments"><a class="header" href="#multiple-arguments">multiple arguments</a></h1>
<p>Commands can take multiple arguments, which can be defined by specifying multiple parameters in the command function. However, it is important to note that the first parameter should always be the context of the command, which means that it should be an object of type <code>commands.Context</code>. This object can be obtained from the <code>ctx</code> parameter of the command function, and it contains information about the command and the message that triggered the command. Therefore, it is necessary to pass it as the first parameter of the command function.</p>
<p>Furthermore, if one of the arguments is a string, it should be preceded by an asterisk. This indicates that the parameter can contain spaces. If the asterisk is not included, the parameter will only contain the first word. Finally, it is possible to add other parameters to the command before the parameter that can contain spaces, but no parameters can be placed after the parameter that can contain spaces.</p>
<p>The command structure for commands that take multiple arguments is as follows:</p>
<pre><code class="language-python">@bot.command()
async def command_name(ctx : commands.Context, argument_1, ..., argument_n) -&gt; None:
    ...
</code></pre>
<hr />
<h1 id="exercices"><a class="header" href="#exercices">Exercices</a></h1>
<h3 id="exercice-1"><a class="header" href="#exercice-1">Exercice 1</a></h3>
<p>Créer une commande <code>remove_role</code> qui prends en paramètre un membre (<code>discord.Member</code>) et un rôle (<code>discord.Role</code>), qui regarde si ce membre a le rôle spécifié et qui le supprime si c'est le cas. Pour supprimer un rôle à un membre, il faut utiliser la méthode <code>remove_roles</code> obtenue à partir du membre (member.remove_roles). Si le rôle a été enlevé, la commande doit renvoyer le message suivant : &quot;Le rôle {role.name} a été enlevé à {member.name}.&quot;. Si le rôle n'a pas été enlevé, la commande doit renvoyer le message suivant : &quot;{member.name} n'a pas le rôle {role.name}.&quot;. </p>
<details>
  <summary>Solution</summary>
<pre><code class="language-python">@bot.command()
async def remove_role(ctx : commands.Context, member : discord.Member, role : discord.Role) -&gt; None:
    if role in member.roles:
        await member.remove_roles(role)
        return await ctx.send(f&quot;Le rôle {role.name} a été enlevé à {member.name}.&quot;)
    
    return await ctx.send(f&quot;{member.name} n'a pas le rôle {role.name}.&quot;)
</code></pre>
</details>
<h3 id="exercice-2"><a class="header" href="#exercice-2">Exercice 2</a></h3>
<p>Maintenant que l'on sait enlever les rôles, il est temps d'en ajouter. Créer une commande <code>add_role</code> qui prends en paramètre un membre (<code>discord.Member</code>) et un rôle (<code>discord.Role</code>), qui regarde si ce membre a le rôle spécifié et qui l'ajoute si ce n'est pas le cas. Pour ajouter un rôle à un membre, il faut utiliser la méthode <code>add_roles</code> obtenue à partir du membre (member.add_roles). Si le rôle a été ajouté, la commande doit renvoyer le message suivant : &quot;Le rôle {role.name} a été ajouté à {member.name}.&quot;. Si le rôle n'a pas été ajouté, la commande doit renvoyer le message suivant : &quot;{member.name} a déjà le rôle {role.name}.&quot;.</p>
<details>
  <summary>Solution</summary>
<pre><code class="language-python">@bot.command()
async def add_role(ctx : commands.Context, member : discord.Member, role : discord.Role) -&gt; None:
    if role not in member.roles:
        await member.add_roles(role)
        return await ctx.send(f&quot;Le rôle {role.name} a été ajouté à {member.name}.&quot;)
    
    return await ctx.send(f&quot;{member.name} a déjà le rôle {role.name}.&quot;)
</code></pre>
</details>
<h3 id="exercice-3"><a class="header" href="#exercice-3">Exercice 3</a></h3>
<p>Créer une commands <code>slowmode</code> qui prends en paramètre un channel (<code>discord.TextChannel</code>) et un nombre de secondes (<code>int</code>), qui change le slowmode du channel spécifié en secondes. Pour changer le slowmode d'un channel, il faut utiliser la méthode <code>edit</code> obtenue à partir du channel (channel.edit). Si la valeur en seconde est inférieure à 0, la commande doit renvoyer le message suivant : &quot;Le slowmode ne peut pas être inférieur à 0.&quot;. Si la valeur en seconde est supérieure à 21600, la commande doit renvoyer le message suivant : &quot;Le slowmode ne peut pas être supérieur à 21600.&quot;. Sinon, la commande doit renvoyer le message suivant : &quot;Le slowmode du channel {channel.name} a été changé en {seconds} secondes.&quot;. </p>
<details>
  <summary>Solution</summary>
<pre><code class="language-python">@bot.command()
async def slowmode(ctx : commands.Context, channel : discord.TextChannel, seconds : int) -&gt; None:
    if seconds &lt; 0:
        return await ctx.send(&quot;Le slowmode ne peut pas être inférieur à 0.&quot;)
    
    if seconds &gt; 21600:
        return await ctx.send(&quot;Le slowmode ne peut pas être supérieur à 21600.&quot;)
    
    await channel.edit(slowmode_delay=seconds)
    return await ctx.send(f&quot;Le slowmode du channel {channel.name} a été changé en {seconds} secondes.&quot;)
</code></pre>
</details>
<h3 id="exercice-4"><a class="header" href="#exercice-4">Exercice 4</a></h3>
<p>On aimerait pouvoir changer de salon vocal sans avoir à toucher à notre souris car c'est un peu long. Pour cela, on va créer une commande qui permet de changer de salon vocal. Pour cela, on va créer une commande <code>move</code> qui prends en paramètre optionnel un salon vocal et qui déplace le membre qui a exécuté la commande dans le salon vocal spécifié. Si le paramètre n'est pas spécifié on déconnecte le membre de son salon actuel. Pour déplacer un membre dans un salon vocal, il faut utiliser la méthode <code>move_to</code> obtenue à partir du membre (member.move_to) et attention, il n'est pas possible de move un membre qui n'est pas dans un salon vocal, il faudra donc vérifier ce cas. Le paramètre <code>channel</code> doit être de type <code>discord.VoiceChannel</code>.</p>
<p>La commande doit être de la forme suivante :</p>
<pre><code class="language-python">@bot.command()
async def move(ctx : commands.Context,
               channel : Optional[discord.VoiceChannel] = None) -&gt; discord.Message:
    ...
</code></pre>
<details>
  <summary>Solution</summary>
<pre><code class="language-python">@bot.command()
async def move(ctx : commands.Context,
               channel : Optional[discord.VoiceChannel] = None) -&gt; discord.Message:
    try:
        ctx.author.move_to(channel)
    except discord.HTTPException:
        return await ctx.send(&quot;You are not in a voice channel.&quot;)

    return await ctx.send(f&quot;Moved to {channel.name}&quot;)

</code></pre>
<p>On utilise un <code>try</code>/<code>except</code> pour gérer le cas où le membre n'est pas dans un salon vocal. Si le membre n'est pas dans un salon vocal, une exception <code>discord.HTTPException</code> est levée et on renvoie un message d'erreur. Sinon on déplace le membre dans le salon vocal spécifié et on renvoie un message de confirmation.</p>
</details>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../chapter_2/unique_argument.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../chapter_2/string_arguments.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../chapter_2/unique_argument.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../chapter_2/string_arguments.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
